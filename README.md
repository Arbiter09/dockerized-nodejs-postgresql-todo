# ğŸ“Œ Node.js PostgreSQL To-Do App (Dockerized)

A **Dockerized and authentication-protected To-Do App** using **Node.js, Express.js, bcrypt, JWT authentication, Prisma, and PostgreSQL**.

## ğŸ–¼ï¸ Project Screenshots

### ğŸ“Œ **Login Page**

![Login](Images/Login.png)

### ğŸ“Œ **Dashboard**

![Dashboard](Images/Dashboard.png)

### ğŸ“Œ **Database Schema**

![Database Schema](Images/Database_Schema.png)

---

## ğŸš€ Overview

This app allows users to:

- **Register:** Create a new account.
- **Login:** Authenticate and receive a JWT token.
- **Manage Todos:** Perform authentication-protected CRUD operations on their own tasks.

## ğŸ“ Project Structure

```
backend-todo-app/
â”‚
â”œâ”€â”€ public/
â”‚   â””â”€â”€ index.html              # Frontend HTML file for authentication and todo management
â”‚
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma           # Database schema definition
â”‚   â””â”€â”€ migrations/             # Migration files generated by Prisma
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controllers/            # (Optional) For future separation of concerns
â”‚   â”œâ”€â”€ middlewares/
â”‚   â”‚   â””â”€â”€ authMiddleware.js    # Middleware for verifying JWT and protecting routes
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ authRoutes.js        # Routes for user registration and login
â”‚   â”‚   â”œâ”€â”€ todoRoutes.js        # Routes for authenticated CRUD operations on todos
â”‚   â”œâ”€â”€ prismaClient.js          # Prisma client database setup and table creation
â”‚   â”œâ”€â”€ server.js                # Main server entry point that sets up routing and middleware
â”‚
â”œâ”€â”€ Dockerfile                   # Docker container setup instructions
â”œâ”€â”€ docker-compose.yaml           # Docker setup config file
â”œâ”€â”€ package.json                  # Project dependencies and scripts
â”œâ”€â”€ package-lock.json             # Lockfile for exact dependency versions
â””â”€â”€ todo-app.rest                 # REST client file for emulating API requests
```

## ğŸ“Œ Explanation of Key Directories and Files

- **prisma/**: Contains Prisma's schema (`schema.prisma`) and migration files.
- **public/**: Contains the frontend HTML file that interacts with the backend API.
- **src/**: Core backend code.
  - **controllers/** (optional): Organizes logic separately from routes.
  - **middlewares/**: Middleware for handling JWT authentication.
  - **routes/**: API routes for authentication and CRUD operations.
  - **prismaClient.js**: Sets up Prisma client for database interaction.
  - **server.js**: Configures Express.js application, routes, and middleware.
- **.env**: Stores environment variables like `DATABASE_URL` and `JWT_SECRET`.
- **Dockerfile**: Builds the Node.js app in a containerized environment.
- **docker-compose.yaml**: Sets up both Node.js and PostgreSQL in Docker.
- **package.json**: Defines Node.js dependencies and scripts.
- **README.md**: This documentation.

---

## ğŸš€ Getting Started

### 1ï¸âƒ£ Install Docker Desktop

### 2ï¸âƒ£ Clone the Repository:

```sh
git clone https://github.com/Arbiter09/dockerized-nodejs-postgresql-todo.git
cd backend-todo-app
```

### 3ï¸âƒ£ Generate the Prisma Client:

```sh
npx prisma generate
```

### 4ï¸âƒ£ Build Docker Images:

```sh
docker compose build
```

### 5ï¸âƒ£ Create PostgreSQL Migrations and Apply Them:

```sh
docker compose run app npx prisma migrate dev --name init
```

To apply migrations if necessary:

```sh
docker-compose run app npx prisma migrate deploy
```

### 6ï¸âƒ£ Boot Up Docker Containers:

```sh
docker compose up
```

Or run in detached mode:

```sh
docker compose up -d
```

### 7ï¸âƒ£ Access PostgreSQL Database (inside Docker container):

```sh
docker exec -it postgres-db psql -U postgres -d todoapp
```

### 8ï¸âƒ£ Stop Docker Containers:

```sh
docker compose down
```

### 9ï¸âƒ£ Delete All Docker Containers:

```sh
docker system prune
```

### ğŸ”— Access the App:

Open **http://localhost:5003** (or `localhost:3000` if changed) in your browser to see the frontend. You can **register, log in, and manage your todos**.

---

## ğŸ“Œ Emulating HTTP Requests (REST Client)

The `todo-app.rest` file helps you test the API using HTTP requests directly. You can use VS Codeâ€™s REST Client extension or Postman.

### ğŸ“ Provided Requests:

- **Register a user** (POST `/auth/signup`)
- **Login** (POST `/auth/login`)
- **Fetch todos** (GET `/todos`)
- **Add a todo** (POST `/todos`)
- **Update a todo** (PUT `/todos/:id`)
- **Delete a todo** (DELETE `/todos/:id`)

### ğŸš€ How to Use:

1. Install **REST Client** extension in VS Code.
2. Open `todo-app.rest`.
3. Run the requests by clicking "Send Request" above each block.
4. For protected routes, copy the **JWT token** from the login response and replace `{{token}}` in requests.

---

## ğŸ“œ Conclusion

This guide covers:
âœ… **Project Setup with Docker**  
âœ… **Authentication with JWT**  
âœ… **CRUD Operations on Todos**  
âœ… **Using Prisma for Database Management**  
âœ… **Testing with REST Client**

ğŸ¯ Now, you can explore the appâ€™s functionality and start building upon it! ğŸš€
